---
# BGP EVPN Sites Configuration
# This file contains all site-specific configuration for automated EVPN deployment
# Global Settings (Applied across all sites)
ise_radius_integration_details:
  - authentication_policy_server:
    - server_type: ISE
      server_ip_address: 10.195.243.126
      shared_secret: "Cisco#123!"
      protocol: RADIUS
      authentication_port: 1812
      accounting_port: 1813
      retries: 3
      timeout: 4
      role: primary
      use_dnac_cert_for_pxgrid: False
      pxgrid_enabled: True
      cisco_ise_dtos:
        - user_name: admin
          password: "C1sco#123!"
          fqdn: ISE3-1.cisco.com
          ip_address: 10.195.243.126
          description: Primary Cisco ISE Server
      trusted_server: True
      ise_integration_wait_time: 60
design_sites:
  - site:
      area:
        name: USA
        parent_name: Global
    type: area
  - site:
      area:
        name: California
        parent_name: Global/USA
    type: area
  - site:
      area:
        name: SAN-FRANCISCO
        parent_name: Global/USA
    type: area
  - site:
      area:
        name: SAN JOSE
        parent_name: Global/USA
    type: area
  - site:
      building:
        name: BLD23
        parent_name: Global/USA/SAN JOSE
        address: McCarthy Blvd, San Jose, California 95131, United States
        latitude: 37.398188
        longitude: -121.912974
        country: United States
    type: building
  - site:
      building:
        name: BLD20
        parent_name: Global/USA/SAN JOSE
        address: 725 Alder Drive, Milpitas, California 95035, United States
        country: United States
    type: building
  - site:
      building:
        name: BLD_SF
        parent_name: Global/USA/SAN-FRANCISCO
        address: McCarthy Blvd, San Jose, California 95131, United States
        latitude: 37.398188
        longitude: -121.912974
        country: United States
    type: building
  - site:
      floor:
        name: FLOOR1
        floor_number: 1
        parent_name: Global/USA/SAN JOSE/BLD23
        rfModel: Cubes And Walled Offices
        width: 100.0
        length: 100.0
        height: 10.0
        units_of_measure: feet
        upload_floor_image_path: ../../../../CatC_SD_Access_campus/catc_configs/sites/california/floor_images/wireless-access-points.pdf
    type: floor
  - site:
      floor:
        name: FLOOR2
        floor_number: 2
        parent_name: Global/USA/SAN JOSE/BLD23
        rfModel: Cubes And Walled Offices
        width: 100.0
        length: 100.0
        height: 10.0
        units_of_measure: feet
        upload_floor_image_path: ../../../../CatC_SD_Access_campus/catc_configs/sites/california/floor_images/wireless-access-points.pdf
    type: floor
  - site:
      floor:
        name: FLOOR3
        floor_number: 3
        parent_name: Global/USA/SAN JOSE/BLD23
        rfModel: Outdoor Open Space
        width: 100.0
        length: 100.0
        height: 10.0
    type: floor
  - site:
      floor:
        name: FLOOR1
        floor_number: 1
        parent_name: Global/USA/SAN JOSE/BLD20
        rfModel: Indoor High Ceiling
        width: 100.0
        length: 100.0
        height: 10.0
        units_of_measure: feet
        upload_floor_image_path: ../../../../CatC_SD_Access_campus/catc_configs/sites/california/floor_images/floor1image.jpg
    type: floor
  - site:
      floor:
        name: FLOOR2
        floor_number: 2
        parent_name: Global/USA/SAN JOSE/BLD20
        rfModel: Cubes And Walled Offices
        width: 100.0
        length: 100.0
        height: 10.0
        units_of_measure: feet
        upload_floor_image_path: ../../../../CatC_SD_Access_campus/catc_configs/sites/california/floor_images/wireless-access-points.pdf
    type: floor
  - site:
      floor:
        name: FLOOR1
        floor_number: -1
        parent_name: Global/USA/SAN-FRANCISCO/BLD_SF
        rfModel: Drywall Office Only
        width: 5.0
        length: 5.0
        height: 3.0
        units_of_measure: meters
        upload_floor_image_path: ../../../../CatC_SD_Access_campus/catc_configs/sites/california/floor_images/wireless-access-points.pdf
    type: floor
  - site:
      floor:
        name: FLOOR2
        floor_number: 2
        parent_name: Global/USA/SAN-FRANCISCO/BLD_SF
        rfModel: Drywall Office Only
        width: 10.0
        length: 12.0
        height: 8.0
        units_of_measure: feet
        upload_floor_image_path: ../../../../CatC_SD_Access_campus/catc_configs/sites/california/floor_images/wireless-access-points.pdf
    type: floor

device_credentials:
  - global_credential_details:
      cli_credential:
        - description: switchandwlc credentials
          username: wlcaccess
          password: Lablab#123
          enable_password: Cisco#123
      snmp_v3: #Create SNMPv3 credentials list
        - description: snmpV3 Sample 1 
          auth_password: "hp!x6px&#@2xi5"
          auth_type: SHA
          snmp_mode: AUTHPRIV
          privacy_password: "ai7tpci3j@*j5g"
          privacy_type: AES128
          username: admin
      https_read: #Create HTTPS Read credentials list
        - description: httpsRead Sample 1
          username: admin
          password: "2!x88yvqz*7"
          port: 443
      https_write: #Create HTTPS Write credentials list
        - description: httpsWrite Sample 1
          username: admin
          password: "j@5wgm%s2g%"
          port: 443
  - assign_credentials_to_site:
      cli_credential:
        description: switchandwlc credentials
        username: wlcaccess
      snmp_v3:
        description: snmpV3 Sample 1
        username: admin
      https_read:
        username: admin
        description: httpsRead Sample 1
      https_write:
        username: admin
        description: httpsWrite Sample 1
      site_name:
        - Global/USA/SAN JOSE
        - Global/USA/SAN-FRANCISCO

# Site-Specific Configurations
sites:
  - site_name: "SITE_NYC"
    site_hierarchy: "Global/USA/NewYork/Building1"
    site_areas:
      - area_name: "USA"
        parent_name: "Global"
        area_type: "area"
      - area_name: "NewYork"
        parent_name: "Global/USA"
        area_type: "area"
      - area_name: "Building1"
        parent_name: "Global/USA/NewYork"
        area_type: "building"
        address: "123 Broadway, New York, NY 10001"
        latitude: 40.7128
        longitude: -74.0060
      - area_name: "Floor1"
        parent_name: "Global/USA/NewYork/Building1"
        area_type: "floor"
      - area_name: "Floor2"
        parent_name: "Global/USA/NewYork/Building1"
        area_type: "floor"

    # Site Network Settings
    network_settings:
      dhcp_server: ["10.1.1.10"]
      dns_server:
        domain_name: "nyc.example.com"
        primary_dns_server: "10.1.1.11"
        secondary_dns_server: "10.1.1.12"
      snmp_server:
        - server_ip: "10.1.1.20"
          version: "V2C"
      syslog_server:
        - server_ip: "10.1.1.21"
          configure_dnac_ip: true
      ntp_server: ["10.1.1.30"]
      timezone: "America/New_York"
      message_of_the_day: "Welcome to NYC EVPN Fabric"
      netflow_collector: "10.1.1.40:2055"

    # Site-specific IP Pools
    ip_pools:
      - pool_name: "NYC_UNDERLAY_LOOPBACK"
        pool_type: "Generic"
        ip_subnet: "10.10.0.0/24"
        gateway: "10.10.0.1"
        
      - pool_name: "NYC_UNDERLAY_P2P"
        pool_type: "Generic"
        ip_subnet: "10.10.1.0/24"
        
      - pool_name: "NYC_VTEP_POOL"
        pool_type: "Generic"
        ip_subnet: "10.10.2.0/24"

    # Reserved Subpools
    reserved_ip_pools:
      - pool_name: "NYC_UNDERLAY_LOOPBACK"
        reserved_subnet: "10.10.0.0/26"
        reserved_for: "Spine and Border devices"
      - pool_name: "NYC_UNDERLAY_P2P"
        reserved_subnet: "10.10.1.0/26"
        reserved_for: "Spine-Leaf interconnects"

    # Seed Devices for Discovery
    seed_devices:
      discovery_name: "NYC_SEED_DISCOVERY"
      discovery_type: "CDP"
      protocol_order: "ssh"
      retry: 3
      timeout: 120
      preferred_mgmt_ip_method: "None"
      devices:
        - ip_address: "10.1.1.101"
          hostname: "NYC-BORDER-01"
          device_role: "border"
        - ip_address: "10.1.1.102"
          hostname: "NYC-SPINE-01"
          device_role: "spine"

    # LAN Automation Configuration
    lan_automation:
      primary_device_ip: "10.1.1.101"
      primary_device_interfaces: ["GigabitEthernet1/0/1", "GigabitEthernet1/0/2"]
      ip_pools:
        - ip_pool_name: "NYC_UNDERLAY_LOOPBACK"
          ip_pool_role: "MAIN_POOL"
        - ip_pool_name: "NYC_UNDERLAY_P2P"
          ip_pool_role: "PHYSICAL_LINK_POOL"
      multicast_enabled: true
      host_name_prefix: "NYC"
      isis_domain_pwd: "cisco123"
      discovery_level: 3
      discovery_timeout: 30

    # Device Inventory and Roles
    devices:
      borders:
        - hostname: "NYC-BORDER-01"
          management_ip: "10.1.1.101"
          loopback0: "10.10.0.1"
          vtep_ip: "10.10.2.1"
          asn: 65001
          role: "border"
          site: "Global/USA/NewYork/Building1"
        - hostname: "NYC-BORDER-02"
          management_ip: "10.1.1.102"
          loopback0: "10.10.0.2"
          vtep_ip: "10.10.2.2"
          asn: 65001
          role: "border"
          site: "Global/USA/NewYork/Building1"
          
      spines:
        - hostname: "NYC-SPINE-01"
          management_ip: "10.1.1.103"
          loopback0: "10.10.0.3"
          asn: 65001
          role: "spine"
          site: "Global/USA/NewYork/Building1"
        - hostname: "NYC-SPINE-02"
          management_ip: "10.1.1.104"
          loopback0: "10.10.0.4"
          asn: 65001
          role: "spine"
          site: "Global/USA/NewYork/Building1"
          
      leafs:
        - hostname: "NYC-LEAF-01"
          management_ip: "10.1.1.105"
          loopback0: "10.10.0.5"
          vtep_ip: "10.10.2.5"
          asn: 65001
          role: "leaf"
          site: "Global/USA/NewYork/Building1/Floor1"
        - hostname: "NYC-LEAF-02"
          management_ip: "10.1.1.106"
          loopback0: "10.10.0.6"
          vtep_ip: "10.10.2.6"
          asn: 65001
          role: "leaf"
          site: "Global/USA/NewYork/Building1/Floor1"
        - hostname: "NYC-LEAF-03"
          management_ip: "10.1.1.107"
          loopback0: "10.10.0.7"
          vtep_ip: "10.10.2.7"
          asn: 65001
          role: "leaf"
          site: "Global/USA/NewYork/Building1/Floor2"
        - hostname: "NYC-LEAF-04"
          management_ip: "10.1.1.108"
          loopback0: "10.10.0.8"
          vtep_ip: "10.10.2.8"
          asn: 65001
          role: "leaf"
          site: "Global/USA/NewYork/Building1/Floor2"

    # VLANs and VNIs for EVPN
    vlans:
      - vlan_id: 100
        vlan_name: "DATA_VLAN"
        vni: 10100
        subnet: "192.168.100.0/24"
        gateway: "192.168.100.1"
        vrf: "DATA_VRF"
      - vlan_id: 200
        vlan_name: "VOICE_VLAN"
        vni: 10200
        subnet: "192.168.200.0/24"
        gateway: "192.168.200.1"
        vrf: "DATA_VRF"
      - vlan_id: 300
        vlan_name: "GUEST_VLAN"
        vni: 10300
        subnet: "192.168.300.0/24"
        gateway: "192.168.300.1"
        vrf: "GUEST_VRF"

    # VRFs for EVPN
    vrfs:
      - vrf_name: "DATA_VRF"
        vni: 50001
        rd_format: "auto"
        rt_import: ["65001:50001"]
        rt_export: ["65001:50001"]
      - vrf_name: "GUEST_VRF"
        vni: 50002
        rd_format: "auto"
        rt_import: ["65001:50002"]
        rt_export: ["65001:50002"]

  # Second Site Configuration
  - site_name: "SITE_LA"
    site_hierarchy: "Global/USA/LosAngeles/Building1"
    site_areas:
      - area_name: "LosAngeles"
        parent_name: "Global/USA"
        area_type: "area"
      - area_name: "Building1"
        parent_name: "Global/USA/LosAngeles"
        area_type: "building"
        address: "456 Sunset Blvd, Los Angeles, CA 90028"
        latitude: 34.0522
        longitude: -118.2437
      - area_name: "Floor1"
        parent_name: "Global/USA/LosAngeles/Building1"
        area_type: "floor"

    # Site Network Settings
    network_settings:
      dhcp_server: ["10.2.1.10"]
      dns_server:
        domain_name: "la.example.com"
        primary_dns_server: "10.2.1.11"
        secondary_dns_server: "10.2.1.12"
      snmp_server:
        - server_ip: "10.2.1.20"
          version: "V2C"
      syslog_server:
        - server_ip: "10.2.1.21"
          configure_dnac_ip: true
      ntp_server: ["10.2.1.30"]
      timezone: "America/Los_Angeles"
      message_of_the_day: "Welcome to LA EVPN Fabric"

    # Site-specific IP Pools
    ip_pools:
      - pool_name: "LA_UNDERLAY_LOOPBACK"
        pool_type: "Generic"
        ip_subnet: "10.20.0.0/24"
        gateway: "10.20.0.1"
      - pool_name: "LA_UNDERLAY_P2P"
        pool_type: "Generic"
        ip_subnet: "10.20.1.0/24"
      - pool_name: "LA_VTEP_POOL"
        pool_type: "Generic"
        ip_subnet: "10.20.2.0/24"

    # Reserved Subpools
    reserved_ip_pools:
      - pool_name: "LA_UNDERLAY_LOOPBACK"
        reserved_subnet: "10.20.0.0/26"
        reserved_for: "Spine and Border devices"

    # Seed Devices
    seed_devices:
      discovery_name: "LA_SEED_DISCOVERY"
      discovery_type: "CDP"
      protocol_order: "ssh"
      devices:
        - ip_address: "10.2.1.101"
          hostname: "LA-BORDER-01"
          device_role: "border"

    # LAN Automation
    lan_automation:
      primary_device_ip: "10.2.1.101"
      primary_device_interfaces: ["GigabitEthernet1/0/1"]
      ip_pools:
        - ip_pool_name: "LA_UNDERLAY_LOOPBACK"
          ip_pool_role: "MAIN_POOL"
        - ip_pool_name: "LA_UNDERLAY_P2P"
          ip_pool_role: "PHYSICAL_LINK_POOL"
      multicast_enabled: true
      host_name_prefix: "LA"
      isis_domain_pwd: "cisco123"

    # Devices
    devices:
      borders:
        - hostname: "LA-BORDER-01"
          management_ip: "10.2.1.101"
          loopback0: "10.20.0.1"
          vtep_ip: "10.20.2.1"
          asn: 65002
          role: "border"
          site: "Global/USA/LosAngeles/Building1"
      spines:
        - hostname: "LA-SPINE-01"
          management_ip: "10.2.1.102"
          loopback0: "10.20.0.2"
          asn: 65002
          role: "spine"
          site: "Global/USA/LosAngeles/Building1"
      leafs:
        - hostname: "LA-LEAF-01"
          management_ip: "10.2.1.103"
          loopback0: "10.20.0.3"
          vtep_ip: "10.20.2.3"
          asn: 65002
          role: "leaf"
          site: "Global/USA/LosAngeles/Building1/Floor1"
        - hostname: "LA-LEAF-02"
          management_ip: "10.2.1.104"
          loopback0: "10.20.0.4"
          vtep_ip: "10.20.2.4"
          asn: 65002
          role: "leaf"
          site: "Global/USA/LosAngeles/Building1/Floor1"

    # VLANs and VRFs (similar structure to NYC)
    vlans:
      - vlan_id: 100
        vlan_name: "DATA_VLAN"
        vni: 10100
        subnet: "192.168.100.0/24"
        gateway: "192.168.100.1"
        vrf: "DATA_VRF"

    vrfs:
      - vrf_name: "DATA_VRF"
        vni: 50001
        rd_format: "auto"
        rt_import: ["65002:50001"]
        rt_export: ["65002:50001"]

# Template Configurations
template_configs:
  evpn_templates:
    border_template:
      name: "EVPN_Border_Template"
      description: "EVPN Border device configuration template"
      device_type: ["Catalyst 9000"]
      software_type: "IOS-XE"
    spine_template:
      name: "EVPN_Spine_Template"
      description: "EVPN Spine device configuration template"
      device_type: ["Catalyst 9000"]
      software_type: "IOS-XE"
    leaf_template:
      name: "EVPN_Leaf_Template"
      description: "EVPN Leaf device configuration template"
      device_type: ["Catalyst 9000"]
      software_type: "IOS-XE"
    
  dot1x_template:
    name: "802.1X_Template"
    description: "802.1X authentication template"
    device_type: ["Catalyst 9000"]
    software_type: "IOS-XE"
